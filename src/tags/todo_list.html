<todo_list>
    <div each="{opts.list}" o_type="todo" o_id="{objectId}" draggable="true"  ondragstart="{web.ondrag}"
         name="{name}" class="todo {'removed':removed}">
        <input type="checkbox" value="" onclick="{web.finish}" o_type="todo" o_id={objectId}  checked="{finish < now && finish != 0}"><span
            onclick="{web.edit}" o_type="todo" o_id="{objectId}">{name}</span>
    </div>
    <script>
        var self = this;
        self.now = Date.now();
        web.on('new_todo', function (data) {
            if (data && data.objectId) {
                self.opts.results.unshift(data);
                self.update();
            } else {
                web.message('新任务内容为空！');
            }
        });
    </script>
</todo_list>


